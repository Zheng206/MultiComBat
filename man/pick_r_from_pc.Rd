% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/covbat.R
\name{pick_r_from_pc}
\alias{pick_r_from_pc}
\title{Pick PC count by cumulative explained variance}
\usage{
pick_r_from_pc(pca_fit, var_thresh = 0.95, min_r = 5, max_r = Inf)
}
\arguments{
\item{pca_fit}{A PCA object (e.g., from \code{\link[stats:prcomp]{stats::prcomp()}} or any object
with a numeric vector \code{sdev} of singular values / SDs).}

\item{var_thresh}{Numeric in (0,1]; target cumulative variance threshold
(default \code{0.95}).}

\item{min_r}{Integer minimum allowed PCs (default \code{5}).}

\item{max_r}{Integer maximum allowed PCs (default \code{Inf}).}
}
\value{
Integer number of PCs to retain.
}
\description{
Chooses the number of principal components whose cumulative explained
variance first reaches (or exceeds) \code{var_thresh}, then clamps the choice
to \verb{[min_r, max_r]} and to \code{length(pca_fit$sdev)}.
}
\examples{
set.seed(1)
X <- scale(matrix(rnorm(200), 50, 4))
pf <- prcomp(X, center = TRUE, scale. = FALSE)
pick_r_from_pc(pf, var_thresh = 0.9, min_r = 1)

}
